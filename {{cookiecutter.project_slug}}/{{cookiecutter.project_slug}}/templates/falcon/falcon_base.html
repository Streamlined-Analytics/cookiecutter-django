{{ "{% load static %}" }}
<!DOCTYPE html>
<html data-bs-theme="light" lang="en-US" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- ===============================================-->
  <!--    Document Title-->
  <!-- ===============================================-->
  <title>{{ "{{ business_name }}" }}</title>


  <!-- ===============================================-->
  <!--    Favicons-->
  <!-- ===============================================-->
  <link rel="apple-touch-icon" sizes="180x180"
        href="https://morethanloftladders.co.uk/wp-content/uploads/2023/02/cropped-Social-Icon-1-32x32.png">
  <link rel="icon" type="image/png" sizes="32x32"
        href="https://morethanloftladders.co.uk/wp-content/uploads/2023/02/cropped-Social-Icon-1-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16"
        href="https://morethanloftladders.co.uk/wp-content/uploads/2023/02/cropped-Social-Icon-1-32x32.png">
  <link rel="shortcut icon" type="image/x-icon"
        href="https://morethanloftladders.co.uk/wp-content/uploads/2023/02/cropped-Social-Icon-1-32x32.png">
  <link rel="manifest"
        href="https://morethanloftladders.co.uk/wp-content/uploads/2023/02/cropped-Social-Icon-1-32x32.png">
  <meta name="msapplication-TileImage"
        content="https://morethanloftladders.co.uk/wp-content/uploads/2023/02/cropped-Social-Icon-1-32x32.png">
  <meta name="theme-color" content="#ffffff">
  <script src="{{ "{% static 'falcon_assets/assets/js/config.js' %}" }}"></script>
  <script src="{{ "{% static 'falcon_assets/vendors/simplebar/simplebar.min.js' %}" }}"></script>
  <!-- ===============================================-->
  <!--    Stylesheets-->
  <!-- ===============================================-->
  <link href="{{ "{% static 'falcon_assets/vendors/select2/select2.min.css' %}" }}" rel="stylesheet">
  <link
    href="{{ "{% static 'falcon_assets/vendors/select2-bootstrap-5-theme/select2-bootstrap-5-theme.min.css' %}" }}"
    rel="stylesheet">
  <link href="{{ "{% static 'falcon_assets/vendors/datatables.net-bs5/dataTables.bootstrap5.min.css' %}" }}" rel="stylesheet">

  <link href="{{ "{% static 'falcon_assets/vendors/prism/prism-okaidia.css' %}" }}" rel="stylesheet">
  <link href="{{ "{% static 'falcon_assets/vendors/prism/prism-okaidia.css' %}" }}" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap"
    rel="stylesheet">
  <link href="{{ "{% static 'falcon_assets/vendors/simplebar/simplebar.min.css' %}" }}" rel="stylesheet">
  <link href="{{ "{% static 'falcon_assets/assets/css/theme-rtl.css' %}" }}" rel="stylesheet" id="style-rtl">
  <link href="{{ "{% static 'falcon_assets/assets/css/theme.css' %}" }}" rel="stylesheet" id="style-default">
  <link href="{{ "{% static 'falcon_assets/assets/css/user-rtl.css' %}" }}" rel="stylesheet" id="user-style-rtl">
  <link href="{{ "{% static 'falcon_assets/assets/css/user.css' %}" }}" rel="stylesheet" id="user-style-default">
  <link href="{{ "{% static 'falcon_assets/datatables_editor/editor.bootstrap5.min.css' %}" }}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.datatables.net/select/1.3.0/css/select.dataTables.min.css"/>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
  <link href="{{ "{% static 'falcon_assets/vendors/flatpickr/flatpickr.min.css' %}" }} rel="stylesheet"/>

{{ "{% block css %}" }}
{{ "{% endblock css %}" }}
  <script>
    var isRTL = JSON.parse(localStorage.getItem('isRTL'));
    if (isRTL) {
      var linkDefault = document.getElementById('style-default');
      var userLinkDefault = document.getElementById('user-style-default');
      linkDefault.setAttribute('disabled', true);
      userLinkDefault.setAttribute('disabled', true);
      document.querySelector('html').setAttribute('dir', 'rtl');
    } else {
      var linkRTL = document.getElementById('style-rtl');
      var userLinkRTL = document.getElementById('user-style-rtl');
      linkRTL.setAttribute('disabled', true);
      userLinkRTL.setAttribute('disabled', true);
    }
  </script>
  <script src="https://unpkg.com/htmx.org@1.8.5"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/ws.js"></script>
  <script src="https://unpkg.com/hyperscript.org@0.9.7"></script>
  <style>
    .dataTables_processing {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--bs-primary); /* Use the primary color defined in Bootstrap */
    }

    .dataTables_processing::before {
      content: "";
      box-sizing: border-box;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 50px;
      height: 50px;
      margin-top: -25px;
      margin-left: -25px;
      border-radius: 50%;
      border: 3px solid rgba(0, 0, 0, 0);
      border-top-color: currentColor;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(1turn);
      }
    }
  </style>
</head>


<body hx-headers='{"X-CSRFToken": "{{ "{{ csrf_token }}" }}"}'>

<!-- ===============================================-->
<!--    Main Content-->
<!-- ===============================================-->
<main class="main" id="top">
  <div class="container" data-layout="container">
    <script>
      var isFluid = JSON.parse(localStorage.getItem('isFluid'));
      if (isFluid) {
        var container = document.querySelector('[data-layout]');
        container.classList.remove('container');
        container.classList.add('container-fluid');
      }
    </script>
    {{ "{% include 'falcon/left_nav.html' %}" }}
    <div class="content">
      {{ "{% include 'falcon/top_nav_dropdowns.html' %}" }}
      {{ "{% block content %}" }}
      {{ "{% endblock content %}" }}

      <footer class="footer">
        <!--            <div class="row g-0 justify-content-between fs&#45;&#45;1 mt-4 mb-3">
                      <div class="col-12 col-sm-auto text-center">
                        <p class="mb-0 text-600">Thank you for creating with Falcon <span class="d-none d-sm-inline-block">| </span><br class="d-sm-none" /> 2023 &copy; <a href="https://themewagon.com">Themewagon</a></p>
                      </div>
                      <div class="col-12 col-sm-auto text-center">
                        <p class="mb-0 text-600">v3.17.0</p>
                      </div>
                    </div>-->
      </footer>
    </div>
    <div class="modal fade" id="authentication-modal" tabindex="-1" role="dialog"
         aria-labelledby="authentication-modal-label" aria-hidden="true">
      <div class="modal-dialog mt-6" role="document">
        <div class="modal-content border-0">
          <div class="modal-header px-5 position-relative modal-shape-header bg-shape">
            <div class="position-relative z-1" data-bs-theme="light">
              <h4 class="mb-0 text-white" id="authentication-modal-label">Register</h4>
              <p class="fs--1 mb-0 text-white">Please create your free Falcon account</p>
            </div>
            <button class="btn-close btn-close-white position-absolute top-0 end-0 mt-2 me-2"
                    data-bs-dismiss="modal"
                    aria-label="Close"></button>
          </div>
          <div class="modal-body py-4 px-5">
            <form>
              <div class="mb-3">
                <label class="form-label" for="modal-auth-name">Name</label>
                <input class="form-control" type="text" autocomplete="on" id="modal-auth-name"/>
              </div>
              <div class="mb-3">
                <label class="form-label" for="modal-auth-email">Email address</label>
                <input class="form-control" type="email" autocomplete="on" id="modal-auth-email"/>
              </div>
              <div class="row gx-2">
                <div class="mb-3 col-sm-6">
                  <label class="form-label" for="modal-auth-password">Password</label>
                  <input class="form-control" type="password" autocomplete="on"
                         id="modal-auth-password"/>
                </div>
                <div class="mb-3 col-sm-6">
                  <label class="form-label" for="modal-auth-confirm-password">Confirm Password</label>
                  <input class="form-control" type="password" autocomplete="on"
                         id="modal-auth-confirm-password"/>
                </div>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="modal-auth-register-checkbox"/>
                <label class="form-label" for="modal-auth-register-checkbox">I accept the <a href="#">terms </a>and
                  <a
                    href="#!">privacy policy</a></label>
              </div>
              <div class="mb-3">
                <button class="btn btn-primary d-block w-100 mt-3" type="submit" name="submit">
                  Register
                </button>
              </div>
            </form>
            <div class="position-relative mt-5">
              <hr/>
              <div class="divider-content-center">or register with</div>
            </div>
            <div class="row g-2 mt-2">
              <div class="col-sm-6"><a class="btn btn-outline-google-plus btn-sm d-block w-100"
                                       href="#"><span
                class="fab fa-google-plus-g me-2" data-fa-transform="grow-8"></span> google</a>
              </div>
              <div class="col-sm-6"><a class="btn btn-outline-facebook btn-sm d-block w-100"
                                       href="#"><span
                class="fab fa-facebook-square me-2" data-fa-transform="grow-8"></span> facebook</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<!-- ===============================================-->
<!--    End of Main Content-->
<!-- ===============================================-->

{{ "{% if not page_with_filter %}" }}
{{ "{% else %}" }}
<div class="offcanvas offcanvas-end settings-panel border-0" id="settings-offcanvas" tabindex="-1"
       aria-labelledby="settings-offcanvas">
    <div class="offcanvas-header settings-panel-header bg-shape">
      <div class="z-1 py-1" data-bs-theme="light">
        <div class="d-flex justify-content-between align-items-center mb-1">
          <h5 class="text-white mb-0 me-2"><span class="fas fa-palette me-2 fs-0"></span>Filter</h5>
          <button class="btn btn-primary btn-sm rounded-pill mt-0 mb-0" style="font-size:12px"
                  id="filter-reset-button">
            <span class="fas fa-redo-alt me-1" data-fa-transform="shrink-3"></span>Reset
          </button>
        </div>
        <p class="mb-0 fs--1 text-white opacity-75"> Applying filtering to tables/graphs shown on page.</p>
      </div>
      <button class="btn-close btn-close-white z-1 mt-0" type="button" data-bs-dismiss="offcanvas"
              aria-label="Close"></button>
    </div>
    <div class="offcanvas-body scrollbar-overlay px-x1 h-100" id="themeController">
      <div id="filter-form-div">
        {{ "{{ filter.form }}" }}
      </div>
      <div class="d-flex justify-content-center">
        <a class="mb-3 btn btn-primary" href="#settings-offcanvas" data-bs-toggle="offcanvas"
           id="close_filters_button">Close Filters</a>
      </div>
    </div>
  </div>
  <a class="card setting-toggle" href="#settings-offcanvas" data-bs-toggle="offcanvas">
    <div class="card-body d-flex align-items-center py-md-2 px-2 py-1">
      <div class="bg-primary-subtle position-relative rounded-start" style="height:34px;width:28px">
        <div class="settings-popover"><span class="ripple">
          <span class="fa-spin position-absolute all-0 d-flex flex-center">
            <span class="icon-spin position-absolute all-0 d-flex flex-center">
              <span class="fas fa-filter text-primary"></span>
            </span>
          </span>
        </span>
        </div>
      </div>
      <small class="text-uppercase text-primary fw-bold bg-primary-subtle py-2 pe-2 ps-1 rounded-end">Filter</small>
    </div>
  </a>
{{ "{% endif %}" }}
<!-- ===============================================-->
<!--    JavaScripts-->
<!-- ===============================================-->
<script src="{{ "{% static 'falcon_assets/vendors/bootstrap/bootstrap.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/anchorjs/anchor.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/is/is.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/jquery/jquery.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/prism/prism.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/select2/select2.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/select2/select2.full.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/datatables.net/jquery.dataTables.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/datatables.net-bs5/dataTables.bootstrap5.min.js' %}" }}"></script>
<script
  src="{{ "{% static 'falcon_assets/vendors/datatables.net-fixedcolumns/dataTables.fixedColumns.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/prism/prism.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/fontawesome/all.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/lodash/lodash.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/echarts/echarts.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/assets/data/world.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/chart/chart.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/vendors/dayjs/dayjs.min.js' %}" }}"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
<script src="{{ "{% static 'falcon_assets/vendors/list.js/list.min.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/assets/js/theme.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/datatables_editor/dataTables.editor.js' %}" }}"></script>
<script src="{{ "{% static 'falcon_assets/datatables_editor/editor.bootstrap5.js' %}" }}"></script>
<script src="{{ "{% static 'js/custom_echarts_scripts.js' %}" }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/select/1.3.0/js/dataTables.select.min.js"></script>
<script src="https://cdn.datatables.net/datetime/1.5.2/js/dataTables.dateTime.min.js"></script>
<script>
  var bootstrapColors = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];
</script>
{{ "{% block scripts %}" }}
{{ "{% endblock scripts %}" }}
<script>
  function getEditor(tableId, url, fields) {
    return new $.fn.dataTable.Editor({
      ajax: {
        url: url,
        headers: {
          "X-CSRFToken": "{{ csrf_token }}"
        },
        error: function (xhr, error, thrown) {
          if (xhr.status === 400) {
            var response = JSON.parse(xhr.responseText);
            var response_data = response.data;
            fields.forEach(function (field) {
              var error_message = response_data[field];
              if (error_message) {
                editor.field(field).error(error_message);
              }
            });
          }
        }
      },
      table: "#" + tableId,
      fields: fields
    });
  }
</script>
<script>
  // if filter-reset-button exists, then add click event to it using jquery
  if ($('#filter-reset-button').length) {
    $('#filter-reset-button').click(function () {
      // for each element with class of filter in filter-form-div, set value to empty string
      // if it is a select2 element, then trigger change event
      $('#filter-form-div .filter').each(function () {
        if ($(this).hasClass('select2-hidden-accessible')) {
          $(this).val(null).trigger('change');
        } else {
          $(this).val('');
        }
      });
    });
  }
</script>
<script>
  $(document).ready(function () {
    $('.data-table-server-side').each(function () {
      // on draw, find the pagination and add pagination-sm
      $(this).on('draw.dt', function () {
        $(this).closest('.dataTables_wrapper').find('.pagination').addClass('pagination-sm');
      });
    });
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script>
  $(document).ready(function () {
    $('.form-select').select2();
  });
</script>
<script src="{% static 'falcon_assets/assets/js/flatpickr.js' %}"></script>
<script>
  $('.dateinput').each(function () {
    var defaultDate = $(this).val()
    if (defaultDate) {
      // convert from YYYY-MM-DD to DD/MM/YYYY
      defaultDate = defaultDate.split('-').reverse().join('/');
    } else {
      defaultDate = "today"
    }
    $(this).flatpickr({
      dateFormat: "d/m/Y",
      defaultDate: defaultDate
    });
  });
</script>
</body>

</html>
